(this.webpackJsonpreact2048=this.webpackJsonpreact2048||[]).push([[0],{14:function(e,t,a){},15:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(8),i=a.n(o),s=(a(14),a(1)),c=a(2),u=a(3),l=a(5),h=a(4),d=a(6);a(15);var v=function(e){function t(){return Math.random()>.5?4:2}return{count:arguments.length>0?e:t(),moves:[],contact:function(e){e===this.count&&(this.count+=e)},down:function(){this.location=[3,0]}}};var f=function(){var e=function(){return v(0)};function t(){var e=Math.random();return e<.25?0:e<.5?1:e<.75?2:3}return{boardMap:function(){for(var a=[],r=t(),n=t(),o=0;o<4;o++)a.push([e(),e(),e(),e()]);return a[r][n]=v(),a}(),tiles:[],placeTile:function(e,t,a){this.boardMap[e][t]=a},filterNumberedTiles:function(e){return e.filter((function(e){return e.count>0}))},checkMatches:function(e){for(var t=0;t<e.length;t++){if(void 0===e[t+1])return e=this.filterNumberedTiles(e);e[t].count===e[t+1].count&&(e[t].count+=e[t+1].count,e[t+1].count=0,t++)}return e=this.filterNumberedTiles(e)},makeVerticalRows:function(e){var t=[[],[],[],[]];return e.forEach((function(e){e.forEach((function(e,a){t[a].push(e)}))})),t},moveTileRow:function(e){var t=this.filterNumberedTiles(e),a=function(){return v(0)},r=[a(),a(),a(),a()];if(0===t.length)return e;if(1===t.length)return r[3]=t[0],e=r;if(t.length>1)for(t.reverse(),t=this.checkMatches(t);t.length<4;)t.push(a());return t.reverse(),e=t},moveTileRight:function(){for(var e=0;e<this.boardMap.length;e++)this.boardMap[e]=this.moveTileRow(this.boardMap[e])},moveTileLeft:function(){for(var e=0;e<this.boardMap.length;e++)this.boardMap[e]=this.moveTileRow(this.boardMap[e].reverse()),this.boardMap[e].reverse()},moveTileDown:function(){for(var e=this.makeVerticalRows(this.boardMap),t=0;t<e.length;t++)e[t]=this.moveTileRow(e[t]);this.boardMap=this.makeVerticalRows(e)},moveTileUp:function(){for(var e=this.makeVerticalRows(this.boardMap),t=0;t<e.length;t++){var a=e[t].reverse();e[t]=this.moveTileRow(a),e[t].reverse()}return this.boardMap=this.makeVerticalRows(e),this.boardMap}}};var m=function(){return{loss:!1,victory:!1,board:f(),newestTile:[],random:function(){var e=Math.random();return e<.25?0:e<.5?1:e<.75?2:3},getTileList:function(){var e=[];return this.board.boardMap.forEach((function(t){t.forEach((function(t){e.push(t)}))})),e},placeTile:function(){var e=this.random(),t=this.random();16!==this.filterTiles().length&&(this.board.boardMap[e][t].count<2?this.board.placeTile(e,t,v()):this.placeTile(),this.newestTile[0]=e,this.newestTile[1]=t)},checkMoveRight:function(e,t,a){var r=this.board.boardMap[t][a+1];return void 0!==r&&r.count===e},checkMoveLeft:function(e,t,a){var r=this.board.boardMap[t][a-1];return void 0!==r&&r.count===e},checkMoveDown:function(e,t,a){return 0!==t&&this.board.boardMap[t-1][a].count===e},checkMoveUp:function(e,t,a){return 3!==t&&this.board.boardMap[t+1][a].count===e},tileHasMove:function(e,t){var a=!1,r=this.board.boardMap[e][t].count;return!0===this.checkMoveRight(r,e,t)?a=!0:!0===this.checkMoveLeft(r,e,t)?a=!0:!0===this.checkMoveDown(r,e,t)?a=!0:!0===this.checkMoveUp(r,e,t)?a=!0:a},anyTileHasMove:function(){for(var e=0;e<this.board.boardMap.length;e++)for(var t=0;t<this.board.boardMap[e].length;t++){if(!0===this.tileHasMove(e,t))return!0}return!1},filterTiles:function(){var e=[];return this.board.boardMap.forEach((function(t){t.forEach((function(t){t.count>0&&e.push(t)}))})),e},hasLost:function(){var e=!1;return this.filterTiles().length<16?e:!0===this.anyTileHasMove()?(console.log(" has lost",e),e):e=!0},checkWin:function(){return this.filterTiles().filter((function(e){return 2048===e.count})).length>0?1:0},newGame:function(){this.board=f()}}}(),p=m.board;var b=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(h.a)(t).call(this,e))).state={count:e.count},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"findTileStyle",value:function(){var e=this.props.count,t=String;switch(e){case 2:t="two";break;case 4:t="four";break;case 8:t="eight";break;case 16:t="sixteen";break;case 32:t="thirtytwo";break;case 64:t="sixtyfour";break;case 128:t="onetwentyeight";break;case 256:t="twofiftysix";break;case 512:t="fivetwelve";break;case 1024:t="tentwofour";break;case 2048:t="twentyfortyeight";break;default:t="zero"}return t}},{key:"setClassNames",value:function(){return"tile "+this.findTileStyle()}},{key:"render",value:function(){return n.a.createElement("div",{className:this.setClassNames()}," ",this.props.count," ")}}]),t}(n.a.Component),g=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(h.a)(t).call(this,e))).handleKeyPress=function(e){"ArrowUp"===e?a.up():"ArrowDown"===e?a.down():"ArrowLeft"===e?a.left():"ArrowRight"===e&&a.right();var t=document.querySelector(".myModal");if(!0===a.props.game.hasLost())return t.classList.remove("invisible"),void a.setState({gameOver:"Lost"});1===a.props.game.checkWin()&&(t.classList.remove("invisible"),a.setState({gameOver:"Won!"}))},a.state={game:e.game,board:m.board,test:"react 2048",gameOver:"Lost"},a.handleKeyPress=a.handleKeyPress.bind(Object(s.a)(a)),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"drawBoard",value:function(){var e=this,t=[];return this.state.game.board.boardMap.forEach((function(a,r){var o=e,i=r;a.forEach((function(e,a){var r=a;t.push(n.a.createElement(b,{count:o.state.game.board.boardMap[i][r].count}))}))})),n.a.createElement("div",{className:"board"},t)}},{key:"totalCount",value:function(){var e=0;return this.props.game.board.boardMap.forEach((function(t){t.forEach((function(t){t.count>0&&(e+=t.count)}))})),e}},{key:"moveWasLegal",value:function(e,t){for(var a=!1,r=0;r<e.length;r++)if(e[r].count!==t[r].count)return a=!0;return a}},{key:"updateBoard",value:function(){this.setState((function(e){return{}}))}},{key:"up",value:function(){var e=this.props.game.getTileList();this.props.game.board.moveTileUp();var t=this.props.game.getTileList();!1!==this.moveWasLegal(e,t)?(this.props.game.placeTile(),this.updateBoard()):this.updateBoard()}},{key:"down",value:function(){var e=this.props.game.getTileList();this.props.game.board.moveTileDown();var t=this.props.game.getTileList();!1!==this.moveWasLegal(e,t)?(this.props.game.placeTile(),this.updateBoard()):this.updateBoard()}},{key:"left",value:function(){var e=this.props.game.getTileList();this.props.game.board.moveTileLeft();var t=this.props.game.getTileList();!1!==this.moveWasLegal(e,t)?(this.props.game.placeTile(),this.updateBoard()):this.updateBoard()}},{key:"right",value:function(){var e=this.props.game.getTileList();this.props.game.board.moveTileRight();var t=this.props.game.getTileList();!1!==this.moveWasLegal(e,t)?(this.props.game.placeTile(),this.updateBoard()):this.updateBoard()}},{key:"handleEvents",value:function(){var e=this;window.addEventListener("keydown",(function(t){return e.handleKeyPress(t.key)}))}},{key:"newGame",value:function(){this.props.game.newGame(),this.updateBoard()}},{key:"componentDidMount",value:function(){this.handleEvents()}},{key:"closeModal",value:function(){this.newGame(),document.querySelector(".myModal").classList.add("invisible")}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"gamebox"},n.a.createElement("div",{className:"myModal invisible"},n.a.createElement("div",{className:"endGame"},n.a.createElement("h1",null," Game Over! "),n.a.createElement("h3",null," You ",this.state.gameOver," "),n.a.createElement("button",{onClick:function(){return e.closeModal()}}," New Game "))),n.a.createElement("div",{className:"header"},n.a.createElement("div",{className:"game-title"},"  2048 "),n.a.createElement("div",null," ",n.a.createElement("button",{onClick:function(){return e.newGame()}}," New Game  ")),n.a.createElement("div",{className:"score"}," ",this.totalCount())),n.a.createElement("div",null,this.drawBoard()),n.a.createElement("div",null))}}]),t}(n.a.Component),w=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(g,{game:m,board:p}," "))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},9:function(e,t,a){e.exports=a(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.6d9eca93.chunk.js.map